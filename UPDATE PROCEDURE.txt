CREATE OR REPLACE PROCEDURE COMMUPD(PEMPNO IN NUMBER) IS
MSAL EMP.SAL%TYPE;
MCOMM EMP.COMM%TYPE;
BEGIN
SELECT SAL INTO MSAL FROM EMP1 WHERE EMPNO=PEMPNO;
IF MCOMM<2000 THEN 
MCOMM:=MSAL*10/100;
ELSE
MCOMM:=MSAL*15/100;
END IF;
UPDATE EMP1 SET COMM=MCOMM WHERE EMPNO=PEMPNO;
COMMIT;
EXCEPTION
WHEN NO_DATA_FOUND THEN RAISE_APPLICATION_ERROR(-20100,'EMP_NUMBER IS NOT FOUND');
WHEN OTHERS THEN RAISE_APPLICATION_ERROR(-20101,'UNKNOWN ERROR');
END;
